!!!5
html(lang='en')
 head
  meta(charset='utf-8')
  title DATALOGIC-PRODUCTION MONITORING-DEMO
  meta(name='viewport', content='width=device-width, initial-scale=1.0')
  meta(name='description', content='')
  meta(name='author', content='')
  link(href='/css/bootstrap.css', rel='stylesheet')
  style(type='text/css')
    body {
    padding-top: 60px;
    padding-bottom: 40px;
    }
    .sidebar-nav {
    padding: 9px 0;
    }
   //
     <script type="text/javascript" charset="utf8" src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.12.4.min.js"></script>
 script(type='text/javascript', charset='utf8', src='/js/jquery-1.12.4.min.js')
 //- // Datatables
 script(type='text/javascript', charset='utf8', src='/js/jquery.dataTables.js')
 script(type='text/javascript', src='/js/dataTables.buttons.min.js')
 script(type='text/javascript', src='/js/buttons.flash.min.js')
 script(type='text/javascript', src='/js/jszip.min.js')
 script(type='text/javascript', src='/js/pdfmake.min.js')
 script(type='text/javascript', src='/js/vfs_fonts.js')
 script(type='text/javascript', src='/js/buttons.html5.min.js')
 script(type='text/javascript', src='/js/buttons.print.min.js')
 // external libs from cdnjs
 script(type='text/javascript', src='/js/jquery.min.js')
 script(type='text/javascript', src='/js/jquery-ui.min.js')
 // PivotTable.js libs from cdnjs
 script(type='text/javascript', src='/js/pivot.min.js')
 link(rel='stylesheet', type='text/css', href='/css/pivot.min.css')
 //
   <link rel="stylesheet" type="text/css" href="http://nicolas.kruchten.com/pivottable/dist/pivot.css">
   <script type="text/javascript" src="http://nicolas.kruchten.com/pivottable/dist/pivot.js"></script>
   //- //PivotTable.js libs from ../dist
 // subtotal.js libs from ../dist
 //- script(type='text/javascript', src='/js/subtotal.js')
 //- link(rel='stylesheet', type='text/css', href='/css/subtotal.css')
 //- // optional: mobile support with jqueryui-touch-punch
 //- script(type='text/javascript', src='/js/jquery.ui.touch-punch.min.js')
 //- // DynaTable
 //- script(type='text/javascript', src='/js/highcharts.js')
 //
 
 //- script(type='text/javascript', src='/js/jquery.dynatable.js')
 //- // Khang Scripts
 script(src='/js/d3-collection.v1.min.js')
 script(src='/js/d3-dispatch.v1.min.js')
 script(src='/js/d3-dsv.v1.min.js')
 script(src='/js/d3-request.v1.min.js')
 script(src='/js/d3.v4.min.js', charset='utf8')
 //- // external libs from cdnjs
link(rel='stylesheet', type='text/css', href='/css/c3.min.css')
 script(type='text/javascript', src='/js/papaparse.min.js')
 script(type='text/javascript', src='/js/d3.min.js')
 script(type='text/javascript', src='/js/c3.min.js')
 //- // PivotTable.js libs from ../dist
 script(type='text/javascript', src='/js/c3_renderers.js')
 script(type='text/javascript', src='/js/export_renderers.js')
 style.
   body {
   font-family: Verdana;
   }
   .c3-line, .c3-focused {
   stroke-width: 3px !important;
   }
   .c3-bar {
   stroke: white !important;
   stroke-width: 1;
   }
   .c3 text {
   font-size: 12px;
   color: grey;
   }
   .tick line {
   stroke: white;
   }
   .c3-axis path {
   stroke: grey;
   }
   .c3-circle {
   opacity: 1 !important;
   }
   .c3-xgrid-focus {
   visibility: hidden !important;
   }


   script(type="text/javascript", src="/js/etl.js")
//.body
.body(onload=`buildHtmlTable('#excelDataTable')`)
 //top menu
 .navbar.navbar-inverse.navbar-fixed-top
  .navbar-inner
    .container-fluid
      a.btn.btn-navbar(data-toggle='collapse', data-target='.nav-collapse')
        span.icon-bar
        span.icon-bar
        span.icon-bar
      a.brand(href='') PRODUCTION MONITORING
      .nav-collapse.collapse
        //p.navbar-text.pull-right
        //  | Logged in as
        //  a.navbar-link(href='#') Username
        ul.nav
          li.active
            a(href='/') HOME
          li
            a(href='show') SHOW
          li
            a(href='lineshow') LINE
 //top menu
 .container-fluid
  .row-fluid
    .span12
      h2 LineShow
      table#excelDataTable(border='1')
      //table#excelDataTable1
   script.
    var dateFormat = $.pivotUtilities.derivers.dateFormat;
    var sortAs = $.pivotUtilities.sortAs;
    var tpl = $.pivotUtilities.aggregatorTemplates;
    $.getJSON("http://hunsmt-leonardo:5000/sql/leonardo/exec PMS.dbo.[ame_Report_client]", function (mps) {
      alert (JSON.stringify(mps));
       $("#excelDataTable").pivotUI(mps, {
       cols: ["Eventdate", "EventHour"],
       rows: ["Machine", "Recipe"],
       vals: ["lBoardNumber"],
       aggregatorName: "Count",
       rendererName: "Heatmap"
       } )
    });
  
  hr
  footer
    p Â© DATALOGIC 2017 
